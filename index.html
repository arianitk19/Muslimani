<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Perkujtuesi Ditor</title>
    <link rel="manifest" href="manifest.json">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Përkujtuesi">

<link rel="apple-touch-icon" href="https://img.icons8.com/fluency/512/crescent-moon.png">

<link rel="icon" type="image/png" href="https://img.icons8.com/fluency/512/crescent-moon.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
    <script>
        (function(a, b, c) {
            if (c in b && b[c]) {
                var d, e = a.location, f = /^(a|html)$/i;
                a.addEventListener("click", function(a) {
                    d = a.target;
                    while (!f.test(d.nodeName)) d = d.parentNode;
                    "href" in d && (d.href.indexOf("http") || ~d.href.indexOf(e.host)) && (a.preventDefault(), e.href = d.href)
                }, !1)
            }
        })(document, window.navigator, "standalone");
    </script>

    <link rel="icon" type="image/png" href="https://img.icons8.com/fluency/48/mosque.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

   <style>
    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800;900&display=swap');

    :root {
        --primary: #10b981;
        --bg: #020617;
        --glass: rgba(255, 255, 255, 0.03);
        --border: rgba(255, 255, 255, 0.08);
    }

    body {
        background: var(--bg);
        color: white;
        font-family: 'Plus Jakarta Sans', sans-serif;
        margin: 0;
        -webkit-font-smoothing: antialiased;
        overflow-x: hidden;
    }

    .glass-card {
        background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
        border: 1px solid var(--border);
        border-radius: 2rem;
        backdrop-filter: blur(10px);
    }

    /* Vaktet Grid & Active State */
    .vakt-card {
        padding: 1.2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all 0.4s ease;
        border-radius: 1.8rem;
    }
    .vakt-card.active {
        border-color: var(--primary);
        background: rgba(16, 185, 129, 0.1) !important;
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
    }
    .opacity-30 { opacity: 0.3; filter: grayscale(1); }

    /* Pulse Animacioni për Njoftimet */
    .vakt-impulse {
        animation: pulse-glow 2s infinite;
    }
    @keyframes pulse-glow {
        0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
        70% { box-shadow: 0 0 0 15px rgba(16, 185, 129, 0); }
        100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
    }

    /* Tasbih & Tasks */
    .task-btn {
        transition: 0.3s;
        border: 1px solid var(--border);
    }
    .task-btn.done {
        background: var(--primary) !important;
        color: #000 !important;
        border-color: var(--primary);
    }

    /* Menu & Navigation */
    #full-menu {
        position: fixed; inset: 0; background: rgba(2, 6, 23, 0.98);
        z-index: 2000; display: flex; flex-direction: column; justify-content: center;
        padding: 3rem; visibility: hidden; opacity: 0; transition: 0.5s;
    }
    #full-menu.active { visibility: visible; opacity: 1; }
    
    .menu-trigger {
        position: fixed; top: 2rem; right: 1.5rem; z-index: 2001;
        padding: 12px; background: var(--glass); border-radius: 1rem; cursor: pointer;
    }

    /* Scrollbar për emrat e Allahut */
    .custom-scroll::-webkit-scrollbar { width: 4px; }
    .custom-scroll::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }
</style>

</head>

<div id="intro-screen" class="fixed inset-0 z-[5000] flex flex-col items-center justify-center bg-[#020617] transition-all duration-1000">
    <div class="absolute inset-0 opacity-10 pointer-events-none" 
         style="background-image: radial-gradient(circle at 2px 2px, #10b981 1px, transparent 0); background-size: 40px 40px;">
    </div>

    <div class="relative z-10 text-center px-6">
        <div class="mb-8 animate-bounce-slow">
            <div class="w-24 h-24 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto border border-emerald-500/30">
                <i class="fa-solid fa-mosque text-5xl text-emerald-500"></i>
            </div>
        </div>

        <h1 class="text-4xl font-black italic tracking-tighter text-white mb-2">
            Përkujtuesi <span class="text-emerald-500">Ditor</span>
        </h1>
        
        <p class="text-gray-400 text-sm tracking-[0.2em] uppercase mb-12 opacity-0 animate-fade-in">
            Paqja qoftë mbi ju
        </p>

        <button onclick="startApp()" class="group relative px-12 py-4 bg-transparent border border-emerald-500/50 rounded-2xl overflow-hidden transition-all hover:bg-emerald-500">
            <span class="relative z-10 text-emerald-500 font-bold tracking-widest text-xs uppercase group-hover:text-black transition-colors">
                Hyni në Faqe
            </span>
        </button>
    </div>

    <div class="absolute bottom-10">
        <p class="text-[9px] text-gray-600 tracking-[0.5em] uppercase italic">Bismilah</p>
    </div>
</div>

<style>
    /* Animacionet për Intro */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 0.7; transform: translateY(0); }
    }
    .animate-fade-in { animation: fadeIn 1.5s ease forwards 0.5s; }
    
    @keyframes bounceSlow {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    .animate-bounce-slow { animation: bounceSlow 3s ease-in-out infinite; }

    /* Zhdukja e Intros */
    .fade-out {
        opacity: 0 !important;
        visibility: hidden !important;
        pointer-events: none !important;
    }
</style>

<script>
    function startApp() {
        const intro = document.getElementById('intro-screen');
        intro.classList.add('fade-out');
        
        // Opsionale: Aktivizo tingullin ose dridhjen kur klikohet
        if (navigator.vibrate) navigator.vibrate(50);
    }
</script>
    
<body class="pb-12">

    <div id="celebration-modal" class="fixed inset-0 z-[3000] hidden items-center justify-center p-8 backdrop-blur-xl bg-black/80">
        <div class="modal-content glass-card p-10 text-center max-w-xs">
            <div class="w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fa-solid fa-check text-emerald-500 text-2xl"></i>
            </div>
            <h2 class="text-2xl font-black mb-2 italic">MashAllah!</h2>
            <p class="text-gray-400 text-sm italic">Allahu ta pranoftë ibadetin tënd.</p>
            <button onclick="closeCelebration()" class="mt-8 bg-emerald-500 text-black font-black py-3 px-8 rounded-2xl w-full uppercase tracking-widest text-xs">Amin</button>
        </div>
    </div>

    <div class="menu-trigger" onclick="toggleMenu()">
        <div class="burger-line line-1"></div>
        <div class="burger-line line-2"></div>
        <div class="burger-line line-3"></div>
    </div>

    <div class="menu-trigger" onclick="toggleMenu()">
    <div class="burger-line line-1"></div>
    <div class="burger-line line-2"></div>
    <div class="burger-line line-3"></div>
</div>

<nav id="full-menu">
    <div class="mb-10"><p class="text-emerald-500 font-black tracking-[0.4em] text-xs uppercase opacity-50">Navigimi</p></div>
    <a href="index.html" class="menu-link active-page"><i class="fa-solid fa-house-chimney"></i> Vaktia</a>
    <a href="lutje.html" class="menu-link"><i class="fa-solid fa-hand-holding-heart"></i> Lutjet</a>
    <a href="kibla.html" class="menu-link"><i class="fa-solid fa-compass"></i> Kibla</a>
    <a href="ligjeratat.html" class="menu-link"><i class="fa-solid fa-microphone-lines"></i> Ligjërata</a>
    <a href="info.html" class="menu-link"><i class="fa-solid fa-circle-info"></i> Info</a>
    <div class="mt-auto pt-10 border-t border-white/5">
        <p class="text-[10px] text-gray-500 tracking-widest uppercase italic">Perkujtuesi Ditor &copy; 2026</p>
    </div>
</nav>

  <body class="pb-10">
    <header class="pt-20 px-8 text-center">
        <h2 class="text-4xl font-black italic mb-2">Selam Alejkum</h2>
        <p id="hijri-date-top" class="text-[10px] uppercase tracking-[0.3em] text-emerald-500 font-bold"></p>
        
        <div class="relative w-48 h-48 mx-auto my-8 flex items-center justify-center">
            <svg width="200" height="200" class="absolute transform -rotate-90">
                <circle class="text-white/5" stroke-width="4" stroke="currentColor" fill="transparent" r="95" cx="100" cy="100"/>
                <circle id="progress-bar" stroke-width="4" stroke="#10b981" fill="transparent" r="95" cx="100" cy="100" style="stroke-dasharray: 596.9; stroke-dashoffset: 596.9; transition: 1s; stroke-linecap: round;"/>
            </svg>
            <span id="live-clock" class="text-4xl font-black italic">00:00</span>
        </div>
    </header>

    <main class="max-w-md mx-auto px-6 space-y-6">
        <div class="glass-card p-6 text-center">
            <p class="text-[10px] uppercase tracking-widest text-gray-500 mb-1">I Radhës</p>
            <h3 id="next-prayer-name" class="text-3xl font-black italic mb-2">-</h3>
            <span id="prayer-countdown" class="text-emerald-500 font-mono font-bold">00:00:00</span>
        </div>

        <div id="vaktet-list" class="grid grid-cols-2 gap-4"></div>

        <div class="glass-card p-6">
            <div class="flex justify-between mb-4">
                <span class="text-[10px] uppercase font-bold text-gray-400">Namazi</span>
                <span id="task-count" class="text-[10px] text-emerald-500 font-bold">0/5</span>
            </div>
            <div class="grid grid-cols-5 gap-2 mb-6">
                <button onclick="toggleTask(0)" class="task-btn h-12 bg-white/5 rounded-xl font-bold">S</button>
                <button onclick="toggleTask(1)" class="task-btn h-12 bg-white/5 rounded-xl font-bold">D</button>
                <button onclick="toggleTask(2)" class="task-btn h-12 bg-white/5 rounded-xl font-bold">I</button>
                <button onclick="toggleTask(3)" class="task-btn h-12 bg-white/5 rounded-xl font-bold">A</button>
                <button onclick="toggleTask(4)" class="task-btn h-12 bg-white/5 rounded-xl font-bold">J</button>
            </div>
            <div class="flex justify-between items-center border-t border-white/5 pt-4">
                <div>
                    <p id="dhiker-label" class="font-bold italic">SubhanAllah</p>
                    <p class="text-[9px] uppercase text-emerald-500">Klikoni për Dhikër</p>
                </div>
                <div onclick="incrementTasbih()" class="w-16 h-16 bg-emerald-500 text-black rounded-2xl flex items-center justify-center text-2xl font-black shadow-lg">
                    <span id="tasbih-num">0</span>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-2 gap-3">
            <button onclick="openLibrary('emrat')" class="glass-card p-4 text-left hover:bg-emerald-500/5 transition">
                <i class="fa-solid fa-star-and-crescent text-emerald-500 mb-2"></i>
                <p class="text-sm font-bold italic">99 Emrat</p>
            </button>
            <button onclick="openLibrary('duate')" class="glass-card p-4 text-left hover:bg-blue-500/5 transition">
                <i class="fa-solid fa-hands-praying text-blue-500 mb-2"></i>
                <p class="text-sm font-bold italic">Duatë</p>
            </button>
        </div>
    </main>

    <div id="sure-modal" class="fixed inset-0 z-[3000] hidden items-center justify-center bg-black/90 backdrop-blur-md p-6">
        <div class="glass-card w-full max-w-sm p-8 relative">
            <i id="sure-main-icon" class=""></i>
            <h3 id="sure-title" class="text-2xl font-black italic my-2"></h3>
            <p id="sure-rendesia" class="text-emerald-500 text-[10px] font-bold uppercase mb-4"></p>
            <div id="sure-content" class="text-gray-300 text-sm italic leading-relaxed max-h-96 overflow-y-auto"></div>
            <button onclick="closeSure()" class="mt-6 w-full py-4 bg-white/10 rounded-2xl font-bold uppercase text-[10px]">Mbyll</button>
        </div>
    </div>

    <div class="menu-trigger" onclick="toggleMenu()">
        <i class="fa-solid fa-bars-staggered text-emerald-500"></i>
    </div>
    
    <nav id="full-menu">
        <a href="index.html" class="text-3xl font-black italic mb-4">Vaktia</a>
        <a href="kibla.html" class="text-3xl font-black italic mb-4 text-white/30">Kibla</a>
        <a href="info.html" class="text-3xl font-black italic text-white/30">Info</a>
    </nav>
</body>
   

<script>
// --- KONFIGURIMI I VAKTEVE ---
const vaktetRaw = [
    { emri: 'Sabahu', koha: '05:30', ikona: 'fa-cloud-sun', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' },
    { emri: 'Lindja', koha: '07:05', ikona: 'fa-sun', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' },
    { emri: 'Dreka', koha: '11:48', ikona: 'fa-sun', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' },
    { emri: 'Ikindia', koha: '14:12', ikona: 'fa-cloud-sun', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' },
    { emri: 'Akshami', koha: '16:21', ikona: 'fa-mountain-sun', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' },
    { emri: 'Jacia', koha: '17:54', ikona: 'fa-moon', gradient: 'linear-gradient(135deg, #0f172a, #1e293b)' }
];

let lastNotifiedVakt = "";
const dhikret = ["SubhanAllah", "Elhamdulillah", "Allahu Akbar", "Estagfirullah", "La ilaha illallah"];
let dhikerIndex = 0;
let tasbihCount = parseInt(localStorage.getItem('tasbihCount')) || 0;
let completedTasks = JSON.parse(localStorage.getItem('completedTasks')) || [false, false, false, false, false];

function updateUI() {
    const now = new Date();
    const currentTotalMin = (now.getHours() * 60) + now.getMinutes();
    const kohaTaniStr = now.toLocaleTimeString('sq-AL', { hour12: false, hour: '2-digit', minute: '2-digit' });

    document.getElementById('live-clock').innerText = kohaTaniStr;

    vaktetRaw.forEach(v => {
        if (kohaTaniStr === v.koha && lastNotifiedVakt !== v.emri) {
            lastNotifiedVakt = v.emri;
            sendImpulsiveNotification(v.emri);
            activateFocusMode(v.emri);
        }
    });

    if (lastNotifiedVakt !== "" && vaktetRaw.every(v => kohaTaniStr !== v.koha)) {
        lastNotifiedVakt = "";
    }

    let currentIdx = -1;
    const listHtml = vaktetRaw.map((v, i) => {
        const [vh, vm] = v.koha.split(':').map(Number);
        const vMin = vh * 60 + vm;
        if (currentTotalMin >= vMin) currentIdx = i;

        const isNow = (i === currentIdx);
        const passed = (currentTotalMin > vMin) && !isNow;

        return `
            <div class="glass-card vakt-card ${isNow ? 'active' : ''} ${passed ? 'opacity-30' : ''}">
                <div class="vakt-icon-container mb-2 text-emerald-500">
                    <i class="fa-solid ${v.ikona}"></i>
                </div>
                <span class="text-[9px] uppercase font-black tracking-[0.2em] ${isNow ? 'text-white' : 'text-gray-500'} block mb-1">${v.emri}</span>
                <span class="text-xl font-bold italic tracking-tight">${v.koha}</span>
            </div>`;
    }).join('');

    document.getElementById('vaktet-list').innerHTML = listHtml;
    updateNextPrayer(now, currentIdx);
}

function updateNextPrayer(now, currentIdx) {
    const nextIdx = (currentIdx + 1) % vaktetRaw.length;
    const nextP = vaktetRaw[nextIdx];
    document.getElementById('next-prayer-name').innerText = nextP.emri;

    const [nh, nm] = nextP.koha.split(':').map(Number);
    let target = new Date();
    target.setHours(nh, nm, 0);
    if (target < now) target.setDate(target.getDate() + 1);

    const diff = target - now;
    const h = Math.floor(diff / 3600000).toString().padStart(2, '0');
    const m = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
    const s = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
    document.getElementById('prayer-countdown').innerText = `${h}:${m}:${s}`;

    const totalSec = (now.getHours() * 3600) + (now.getMinutes() * 60) + now.getSeconds();
    const offset = 596.9 - ((totalSec / 86400) * 596.9);
    document.getElementById('progress-bar').style.strokeDashoffset = offset;
}

// --- TASBIH & TASKS ---
function incrementTasbih() {
    tasbihCount++;
    if (navigator.vibrate) navigator.vibrate(20);
    if (tasbihCount > 33) {
        tasbihCount = 1;
        dhikerIndex = (dhikerIndex + 1) % dhikret.length;
        document.getElementById('dhiker-label').innerText = dhikret[dhikerIndex];
    }
    document.getElementById('tasbih-num').innerText = tasbihCount;
    localStorage.setItem('tasbihCount', tasbihCount);
}

function toggleTask(idx) {
    completedTasks[idx] = !completedTasks[idx];
    localStorage.setItem('completedTasks', JSON.stringify(completedTasks));
    updateTasksUI();
}

function updateTasksUI() {
    const btns = document.querySelectorAll('.task-btn');
    completedTasks.forEach((s, i) => {
        s ? btns[i].classList.add('done') : btns[i].classList.remove('done');
    });
    document.getElementById('task-count').innerText = `${completedTasks.filter(t => t).length}/5 Namaze`;
}

// --- LIBRARIA ME EMRAT E ALLAHUT (E plotë siç e dërgove) ---
function openLibrary(kategoria) {
    const modal = document.getElementById('sure-modal');
    const title = document.getElementById('sure-title');
    const content = document.getElementById('sure-content');
    const rendesia = document.getElementById('sure-rendesia');
    const icon = document.getElementById('sure-main-icon');

    content.innerHTML = ""; 

    if (kategoria === 'emrat') {
        title.innerText = "99 Emrat e Allahut";
        rendesia.innerText = "Kush i mëson ata, hyn në Xhenet.";
        icon.className = "fa-solid fa-star-and-crescent text-3xl text-amber-500";
        
        const emrat = [
            {a: "Allah", s: "Zoti i Vetëm"}, {a: "Er-Rahman", s: "I Gjithëmëshirshmi"}, {a: "Er-Rahim", s: "Mëshirëploti"},
            {a: "El-Melik", s: "Sunduesi"}, {a: "El-Kuddus", s: "I Pastërti"}, {a: "Es-Selam", s: "Paqedënësi"},
            {a: "El-Mu'min", s: "Siguruesi"}, {a: "El-Muhejmin", s: "Mbikëqyrësi"}, {a: "El-Aziz", s: "I Fuqishmi"},
            {a: "El-Xhebbar", s: "I Gjithëfuqishmi"}, {a: "El-Mutekebbir", s: "I Madhërishmi"}, {a: "El-Khalik", s: "Krijuesi"},
            {a: "El-Bari'", s: "Filluesi"}, {a: "El-Musawwir", s: "Formësuesi"}, {a: "El-Gaffar", s: "Gjithëfalësi"},
            {a: "El-Kahhar", s: "Mposhtësi"}, {a: "El-Wehhab", s: "Dhuruesi"}, {a: "Er-Rezzak", s: "Furnizuesi"},
            {a: "El-Fettah", s: "Zgjidhësi"}, {a: "El-Alim", s: "I Gjithëdituri"}, {a: "El-Kabid", s: "Shtrënguesi"},
            {a: "El-Basit", s: "Çliruesi"}, {a: "El-Khafid", s: "Ulësi"}, {a: "Er-Rafi'", s: "Lartësuesi"},
            {a: "El-Mu'izz", s: "Nderuesi"}, {a: "El-Mudhill", s: "Përulësi"}, {a: "Es-Semi'", s: "Dëgjuesi"},
            {a: "El-Basir", s: "Vëzhguesi"}, {a: "El-Hekem", s: "Gjykatësi"}, {a: "El-Adl", s: "I Drejti"},
            {a: "El-Latif", s: "I Buti"}, {a: "El-Khabir", s: "I Njohuri"}, {a: "El-Halim", s: "I Buti"},
            {a: "El-Adhim", s: "Madhështori"}, {a: "El-Gafur", s: "Falësi"}, {a: "Esh-Shekur", s: "Mirënjohësi"},
            {a: "El-Alijj", s: "I Larti"}, {a: "El-Kebir", s: "I Madhi"}, {a: "El-Hafidh", s: "Ruajtësi"},
            {a: "El-Mukit", s: "Ushqyesi"}, {a: "El-Hasib", s: "Llogaritësi"}, {a: "El-Xhelil", s: "I Nderuari"},
            {a: "El-Kerim", s: "Bujari"}, {a: "Er-Rakib", s: "Mbikëqyrësi"}, {a: "El-Muxhib", s: "Lutjepranuesi"},
            {a: "El-Wasi'", s: "Gjerëpërfshirësi"}, {a: "El-Hakim", s: "I Urti"}, {a: "El-Wedud", s: "I Dashuri"},
            {a: "El-Mexhid", s: "Lavdiploti"}, {a: "El-Ba'ith", s: "Ringjallësi"}, {a: "Esh-Shehid", s: "Dëshmitari"},
            {a: "El-Hakk", s: "I Vërteti"}, {a: "El-Wekil", s: "Besniku"}, {a: "El-Kawijj", s: "I Forti"},
            {a: "El-Metin", s: "I Patunduri"}, {a: "El-Welijj", s: "Mbrojtësi"}, {a: "El-Hamid", s: "I Lavdëruari"},
            {a: "El-Muhsi", s: "Regjistruesi"}, {a: "El-Mubdi'", s: "Nisësi"}, {a: "El-Mu'id", s: "Rikthyesi"},
            {a: "El-Muhji", s: "Jetëdhënësi"}, {a: "El-Mumit", s: "Vdekjeprurësi"}, {a: "El-Hajj", s: "I Gjalli"},
            {a: "El-Kajjum", s: "I Vetëqëndrueshmi"}, {a: "El-Waxhid", s: "Gjetësi"}, {a: "El-Maxhid", s: "I Nderuar"},
            {a: "El-Wahid", s: "I Tekti"}, {a: "Es-Samed", s: "I Nevojshmi"}, {a: "El-Kadir", s: "I Fuqishmi"},
            {a: "El-Muktedir", s: "I Plotfuqishmi"}, {a: "El-Mukaddim", s: "Përparësuesi"}, {a: "El-Mu'akhkhir", s: "Prapambetësi"},
            {a: "El-Ewwel", s: "I Pari"}, {a: "El-Akhir", s: "I Fundit"}, {a: "Edh-Dhahir", s: "I Dukshmi"},
            {a: "El-Batin", s: "I Fshehti"}, {a: "El-Wali", s: "Pushtetmbajtësi"}, {a: "El-Mute'ali", s: "Më i Larti"},
            {a: "El-Berr", s: "Mirëbërësi"}, {a: "Et-Tewwab", s: "Pendimpranuesi"}, {a: "El-Muntekim", s: "Ndëshkuesi"},
            {a: "El-Afuww", s: "Mëshiruesi"}, {a: "Er-Ra'uf", s: "I Dhimbshuri"}, {a: "Malikul-Mulk", s: "Sunduesi i Sundimit"},
            {a: "Dhul-Xhelali wel-Ikram", s: "Zoti i Madhështisë"}, {a: "El-Muksit", s: "Asnjëanësi"}, {a: "El-Xhami'", s: "Bashkuesi"},
            {a: "El-Ganijj", s: "I Pasuri"}, {a: "El-Mugni", s: "Pasuruesi"}, {a: "El-Mani'", s: "Penguesi"},
            {a: "Ed-Darr", s: "Dëmtuesi"}, {a: "En-Nafi'", s: "Dobi-sjellësi"}, {a: "En-Nur", s: "Drita"},
            {a: "El-Hadi", s: "Udhëzuesi"}, {a: "El-Bedi'", s: "Shpikësi"}, {a: "El-Baki", s: "I Amshuesmi"},
            {a: "El-Warith", s: "Trashëguesi"}, {a: "Er-Reshid", s: "Rrugëzuesi"}, {a: "Es-Sabur", s: "Durimtari"}
        ];

        content.innerHTML = `
            <div class="grid grid-cols-2 gap-2 custom-scroll overflow-y-auto pr-1">
                ${emrat.map((e, i) => `
                    <div class="bg-white/5 p-2 rounded-lg border border-white/5 text-center">
                        <div class="text-[9px] text-amber-500/50 font-mono">${i+1}</div>
                        <div class="text-[12px] font-bold text-white">${e.a}</div>
                        <div class="text-[8px] text-gray-400 uppercase">${e.s}</div>
                    </div>
                `).join('')}
            </div>`;
    } else if (kategoria === 'duate') {
        title.innerText = "Lutjet";
        rendesia.innerText = "Lutja është arma e besimtarit";
        icon.className = "fa-solid fa-hands-praying text-3xl text-blue-500";
        content.innerHTML = `<p class="italic text-gray-400">Ngarkimi i duave...</p>`;
    }
    modal.style.display = 'flex';
}

function closeSure() { document.getElementById('sure-modal').style.display = 'none'; }
function toggleMenu() { 
    document.getElementById('full-menu').classList.toggle('active'); 
}

// --- INITIALIZATION ---
window.onload = () => {
    updateTasksUI();
    document.getElementById('tasbih-num').innerText = tasbihCount;
    const options = { day: 'numeric', month: 'long', year: 'numeric', calendar: 'islamic-uma' };
    document.getElementById('hijri-date-top').innerText = new Intl.DateTimeFormat('sq-u-ca-islamic-uma', options).format(new Date());
    setInterval(updateUI, 1000);
    updateUI();
};

function activateFocusMode(vaktiEmri) {
    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
}

function sendImpulsiveNotification(emri) {
    console.log("Njoftim: Hyri koha e " + emri);
}
</script>    

</body>
</html>

