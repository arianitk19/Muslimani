<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Info | Zenith 2026</title>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="Images/604776747_122280490772225847_4370550408157022665_n.jpg">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800;900&display=swap');
        
        :root { 
            --primary: #10b981; 
            --bg: #020617; 
            --glass: rgba(255, 255, 255, 0.03); 
            --border: rgba(255, 255, 255, 0.08); 
        }

        body { 
            background: var(--bg); 
            color: white; 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* --- DIZAJNI I RI I NJOFTIMIT (DYNAMIC ISLAND STYLE) --- */
        .zenith-notification {
            position: fixed; top: -120px; left: 50%; transform: translateX(-50%);
            width: 92%; max-width: 420px; background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(30px) saturate(180%); -webkit-backdrop-filter: blur(30px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 2.5rem;
            padding: 1.2rem; display: flex; align-items: center; gap: 1.2rem;
            z-index: 9999; box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .zenith-notification.show { top: 30px; }
        .notif-icon-box { width: 52px; height: 52px; border-radius: 1.4rem; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.4rem; flex-shrink: 0; box-shadow: 0 8px 16px rgba(0,0,0,0.3); }
        .notif-content h4 { font-size: 10px; font-weight: 900; text-transform: uppercase; letter-spacing: 3px; opacity: 0.7; }
        .notif-content p { font-size: 15px; font-weight: 800; color: white; }

        /* --- STILIZIMET E MENU-SË DHE ELEMENTEVE --- */
        .menu-trigger { position: fixed; top: 2.5rem; right: 1.5rem; z-index: 2000; padding: 12px; background: var(--glass); border-radius: 1.2rem; border: 1px solid var(--border); backdrop-filter: blur(10px); }
        .burger-line { width: 22px; height: 2px; background: var(--primary); margin: 5px 0; transition: 0.4s; border-radius: 5px; }
        .open .line-1 { transform: translateY(7px) rotate(45deg); }
        .open .line-2 { opacity: 0; transform: translateX(10px); }
        .open .line-3 { transform: translateY(-7px) rotate(-45deg); }
        
        #full-menu { position: fixed; inset: 0; background: radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, rgba(2, 6, 23, 1) 100%); backdrop-filter: blur(50px); z-index: 1999; display: flex; flex-direction: column; justify-content: center; padding: 3rem; visibility: hidden; opacity: 0; transition: 0.6s cubic-bezier(0.19, 1, 0.22, 1); }
        #full-menu.active { visibility: visible; opacity: 1; }
        .menu-link { font-size: 2.8rem; font-weight: 800; margin: 0.8rem 0; display: flex; align-items: center; gap: 1.5rem; color: rgba(255,255,255,0.2); text-decoration: none; transition: 0.4s; letter-spacing: -2px; }
        .menu-link.active-page { color: white; transform: translateX(15px); }
        .menu-link.active-page i { color: var(--primary); filter: drop-shadow(0 0 10px var(--primary)); }
        
        .glass-card { 
            background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%); 
            backdrop-filter: blur(25px); border: 1px solid var(--border); border-radius: 3rem; 
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .glass-card:hover { border-color: rgba(16, 185, 129, 0.3); }

        input[type="range"] { -webkit-appearance: none; background: rgba(255,255,255,0.08); border-radius: 20px; height: 8px; width: 100%; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; background: white; border-radius: 50%; border: 4px solid var(--primary); box-shadow: 0 0 20px var(--primary); cursor: pointer; transition: 0.2s; }
        input[type="range"]::-webkit-slider-thumb:active { transform: scale(1.2); }

        .notif-btn { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); filter: grayscale(1); opacity: 0.4; border: 1px solid transparent; }
        .notif-active { background: var(--primary) !important; color: #020617 !important; filter: grayscale(0); opacity: 1; transform: translateY(-5px); box-shadow: 0 15px 30px rgba(16, 185, 129, 0.2); }
        
        .hero-mask { mask-image: linear-gradient(to bottom, black 40%, transparent 95%); }
        .glow-text { text-shadow: 0 0 20px rgba(16, 185, 129, 0.4); }

        /* Animacione Hyrëse */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        section { animation: fadeInUp 0.8s ease backwards; }
        section:nth-child(1) { animation-delay: 0.1s; }
        section:nth-child(2) { animation-delay: 0.2s; }
        section:nth-child(3) { animation-delay: 0.3s; }
    </style>
</head>
<body class="pb-12">

    <audio id="notif-sound" src="https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3" preload="auto"></audio>
    
    <div id="notif-overlay" class="zenith-notification">
        <div class="notif-icon-box" id="notif-icon-bg">
            <i class="fa-solid fa-mosque" id="notif-icon"></i>
        </div>
        <div class="notif-content">
            <h4 id="notif-type">Sistemi Zenith</h4>
            <p id="notif-message">Zgjidhni vaktin...</p>
        </div>
    </div>

    <div class="menu-trigger" onclick="toggleMenu()">
        <div class="burger-line line-1"></div>
        <div class="burger-line line-2"></div>
        <div class="burger-line line-3"></div>
    </div>

    <nav id="full-menu">
        <div class="mb-12"><p class="text-emerald-500 font-black tracking-[0.5em] text-[10px] uppercase opacity-70">Menuja Kryesore</p></div>
        <a href="index.html" class="menu-link"><i class="fa-solid fa-house-chimney"></i> Vaktia</a>
        <a href="lutje.html" class="menu-link"><i class="fa-solid fa-hand-holding-heart"></i> Lutjet</a>
        <a href="kibla.html" class="menu-link"><i class="fa-solid fa-compass"></i> Kibla</a>
        <a href="ligjeratat.html" class="menu-link"><i class="fa-solid fa-microphone-lines"></i> Ligjërata</a>
        <a href="info.html" class="menu-link active-page"><i class="fa-solid fa-circle-info"></i> Info</a>
        <div class="mt-auto pt-10 border-t border-white/5"><p class="text-[10px] text-gray-500 tracking-[0.3em] uppercase italic font-bold">Zenith OS &copy; 2026</p></div>
    </nav>

    <header class="relative h-[450px] w-full overflow-hidden">
        <img src="Images/604776747_122280490772225847_4370550408157022665_n.jpg" class="w-full h-full object-cover hero-mask scale-110 brightness-[0.4] contrast-[1.1]">
        <div class="absolute bottom-24 left-8 md:left-20">
            <p class="text-emerald-500 font-black tracking-[0.4em] text-[10px] uppercase mb-4 opacity-80">Konfigurimi i Sistemit</p>
            <h1 class="text-7xl font-black italic tracking-tighter mb-2 glow-text">Info<span class="text-emerald-500">.</span></h1>
        </div>
    </header>

    <main class="max-w-xl mx-auto px-6 -mt-16 relative z-10 space-y-8"> 

        <section class="glass-card p-10 border-amber-500/20 shadow-2xl shadow-amber-900/10">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center">
                    <i class="fa-solid fa-clock-rotate-left text-amber-500"></i>
                </div>
                <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Saktësia e Takvimit</h3>
            </div>
            <p class="text-[12px] text-gray-400 leading-relaxed italic mb-8">Nëse koha në ekran ndryshon nga ajo e xhamisë suaj, përdorni këtë levë për sinkronizim.</p>
            <div class="flex flex-col gap-6">
                <input type="range" min="-10" max="10" value="0" id="calibrationSlider" oninput="updateCalibration(this.value)">
                <div class="flex justify-between items-center px-2">
                    <span class="text-[10px] font-bold text-gray-600 uppercase">-10 Min</span>
                    <span id="calib-val" class="text-3xl font-black italic text-amber-500 drop-shadow-lg">0 min</span>
                    <span class="text-[10px] font-bold text-gray-600 uppercase">+10 Min</span>
                </div>
            </div>
        </section>

        <section class="glass-card p-10 border-emerald-500/20">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center">
                    <i class="fa-solid fa-server text-emerald-500"></i>
                </div>
                <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Metoda e Llogaritjes</h3>
            </div>
            <div class="relative group">
                <select id="apiMethod" onchange="changeAPIMethod(this.value)" class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-5 appearance-none font-extrabold text-sm focus:outline-none focus:border-emerald-500 transition-all cursor-pointer group-hover:bg-white/10">
                    <option value="13" class="bg-[#020617]">Diyanet (Rekomanduar për Ballkan)</option>
                    <option value="3" class="bg-[#020617]">Muslim World League (MWL)</option>
                    <option value="2" class="bg-[#020617]">ISNA (Amerikë)</option>
                    <option value="5" class="bg-[#020617]">Egyptian General Authority</option>
                    <option value="4" class="bg-[#020617]">Umm al-Qura (Makkah)</option>
                </select>
                <div class="absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-emerald-500">
                    <i class="fa-solid fa-chevron-down text-xs"></i>
                </div>
            </div>
        </section>

        <section class="glass-card p-10 border-amber-500/20 bg-gradient-to-br from-amber-500/[0.03] to-transparent">
            <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-4">
                    <i class="fa-solid fa-moon text-amber-400 text-xl animate-pulse"></i>
                    <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Rrugëtimi drejt Ramazanit</h3>
                </div>
                <span id="days-to-ramadan" class="text-sm font-black text-amber-400 bg-amber-400/10 px-4 py-1 rounded-full italic tracking-tighter">-- Ditë</span>
            </div>
            <div class="w-full h-3 bg-white/5 rounded-full overflow-hidden p-[2px] border border-white/10">
                <div id="ramadan-progress" class="h-full bg-gradient-to-r from-amber-600 via-amber-400 to-amber-200 rounded-full transition-all duration-1000 shadow-[0_0_15px_rgba(251,191,36,0.3)]" style="width: 0%"></div>
            </div>
        </section>

        <section class="glass-card p-10 shadow-xl shadow-black/40">
            <div class="flex items-center gap-4 mb-10">
                <div class="w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center">
                    <i class="fa-solid fa-bell text-emerald-500"></i>
                </div>
                <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Modaliteti i Njoftimeve</h3>
            </div>
            <div class="grid grid-cols-3 gap-4 mb-8">
                <button onclick="updateNotifMode('none')" id="notif-none" class="notif-btn bg-white/5 py-7 rounded-[2.5rem] flex flex-col items-center gap-3 border border-white/5">
                    <i class="fa-solid fa-bell-slash text-lg"></i>
                    <span class="text-[9px] font-black uppercase tracking-widest">Heshtje</span>
                </button>
                <button onclick="updateNotifMode('silent')" id="notif-silent" class="notif-btn bg-white/5 py-7 rounded-[2.5rem] flex flex-col items-center gap-3 border border-white/5">
                    <i class="fa-solid fa-vibrate text-lg"></i>
                    <span class="text-[9px] font-black uppercase tracking-widest">Vibrim</span>
                </button>
                <button onclick="updateNotifMode('adhan')" id="notif-adhan" class="notif-btn bg-white/5 py-7 rounded-[2.5rem] flex flex-col items-center gap-3 border border-white/5">
                    <i class="fa-solid fa-volume-high text-lg"></i>
                    <span class="text-[9px] font-black uppercase tracking-widest">Ezan</span>
                </button>
            </div>
            <button onclick="showZenithNotification('Akshami')" class="w-full py-5 bg-emerald-500/5 border border-emerald-500/20 text-emerald-500 rounded-[2rem] font-black text-[10px] uppercase tracking-[0.4em] hover:bg-emerald-500 hover:text-black transition-all active:scale-95 shadow-lg">Testo Njoftimin Elegant</button>
        </section>

        <section class="glass-card p-10 bg-gradient-to-tr from-emerald-500/[0.07] to-transparent">
            <div class="flex items-center justify-between mb-8">
                <div class="flex items-center gap-4">
                    <i class="fa-solid fa-location-dot text-emerald-500 text-lg"></i>
                    <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Gjurmimi Gjeografik</h3>
                </div>
                <button onclick="getUserLocation()" class="text-[10px] font-black text-black uppercase px-6 py-2 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/20 active:scale-90 transition-transform">Rifresko</button>
            </div>
            <div id="user-geo-box" class="p-8 bg-black/40 rounded-[2.5rem] border border-white/10 backdrop-blur-md">
                <p id="user-city" class="text-3xl font-black italic tracking-tighter mb-2 text-white">Duke kërkuar...</p>
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                    <p id="user-coords" class="text-[10px] font-bold text-emerald-500/70 uppercase tracking-[0.2em]">Sistemi GPS po analizon</p>
                </div>
            </div>
        </section>

        <section class="glass-card p-10">
            <div class="flex items-center gap-4 mb-12">
                <div class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center">
                    <i class="fa-solid fa-sliders text-emerald-500"></i>
                </div>
                <h3 class="text-[11px] font-black uppercase tracking-[0.3em] text-gray-300">Personalizimi i UI</h3>
            </div>
            <div class="space-y-14">
                <div class="px-2">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-[11px] text-gray-500 uppercase font-black tracking-widest">Madhësia e Shkrimit</span>
                        <span id="font-size-label" class="text-sm font-black text-emerald-500 bg-emerald-500/10 px-3 py-1 rounded-lg">16px</span>
                    </div>
                    <input type="range" min="14" max="22" value="16" id="fontSlider" oninput="updateGlobalSetting('fontSize', this.value)">
                </div>
                <div class="px-2">
                    <span class="text-[11px] text-gray-500 uppercase font-black tracking-widest block mb-8">Tema e Ngjyrave të Sistemit</span>
                    <div class="flex justify-between">
                        <button onclick="updateGlobalSetting('theme', '#10b981')" class="w-14 h-14 rounded-2xl bg-emerald-500 border-[6px] border-[#020617] shadow-xl hover:scale-110 transition-transform"></button>
                        <button onclick="updateGlobalSetting('theme', '#3b82f6')" class="w-14 h-14 rounded-2xl bg-blue-500 border-[6px] border-[#020617] shadow-xl hover:scale-110 transition-transform"></button>
                        <button onclick="updateGlobalSetting('theme', '#f59e0b')" class="w-14 h-14 rounded-2xl bg-amber-500 border-[6px] border-[#020617] shadow-xl hover:scale-110 transition-transform"></button>
                        <button onclick="updateGlobalSetting('theme', '#f43f5e')" class="w-14 h-14 rounded-2xl bg-rose-500 border-[6px] border-[#020617] shadow-xl hover:scale-110 transition-transform"></button>
                    </div>
                </div>
            </div>
        </section>

        <footer class="text-center py-20 opacity-20 hover:opacity-100 transition-opacity">
            <p class="text-[10px] font-black uppercase tracking-[0.6em] mb-2">Developed by Ratkoci Digital</p>
            <div class="w-12 h-[1px] bg-emerald-500 mx-auto opacity-50"></div>
        </footer>
    </main>

    <script>
        // --- FUNKSIONET E SINKRONIZIMIT GLOBAL ---
        function updateGlobalSetting(key, value) {
            localStorage.setItem('ratkoc_' + key, value);
            applyGlobalSettings();
            if(navigator.vibrate) navigator.vibrate(20);
        }

        function applyGlobalSettings() {
            const savedSize = localStorage.getItem('ratkoc_fontSize') || '16';
            const savedTheme = localStorage.getItem('ratkoc_theme') || '#10b981';
            const savedOffset = localStorage.getItem('zenith_offset') || '0';

            document.body.style.fontSize = savedSize + 'px';
            document.documentElement.style.setProperty('--primary', savedTheme);
            
            const label = document.getElementById('font-size-label');
            if(label) label.innerText = savedSize + 'px';
            
            document.querySelectorAll('.text-emerald-500, .fa-clock-rotate-left, .fa-server, .fa-bell, .fa-sliders, .fa-location-dot').forEach(el => {
                if(!el.classList.contains('text-amber-500')) el.style.color = savedTheme;
            });

            const slider = document.getElementById('calibrationSlider');
            if(slider) slider.value = savedOffset;
            const calibVal = document.getElementById('calib-val');
            if(calibVal) calibVal.innerText = (parseInt(savedOffset) > 0 ? "+" : "") + savedOffset + " min";
        }

        // --- SISTEMI I NJOFTIMEVE (MODERN) ---
        function updateCalibration(val) {
            localStorage.setItem('zenith_offset', val);
            document.getElementById('calib-val').innerText = (parseInt(val) > 0 ? "+" : "") + val + " min";
            if(navigator.vibrate) navigator.vibrate(10);
        }

        function showZenithNotification(vakti) {
            const overlay = document.getElementById('notif-overlay');
            const sound = document.getElementById('notif-sound');
            const mode = localStorage.getItem('ratkoc_notif_mode') || 'none';

            const themes = {
                'Sabahu': { color: '#818cf8', icon: 'fa-cloud-moon' },
                'Dreka': { color: '#fbbf24', icon: 'fa-sun' },
                'Akshami': { color: '#fb7185', icon: 'fa-moon-stars' },
                'Sistemi': { color: '#10b981', icon: 'fa-gear' }
            };
            const theme = themes[vakti] || { color: '#10b981', icon: 'fa-mosque' };

            document.getElementById('notif-type').style.color = theme.color;
            document.getElementById('notif-message').innerText = vakti === 'Sistemi' ? 'Konfigurimi u ruajt' : `Ka hyrë vakti i ${vakti}-it`;
            document.getElementById('notif-icon-bg').style.background = `linear-gradient(135deg, ${theme.color}, #000)`;
            document.getElementById('notif-icon').className = `fa-solid ${theme.icon}`;

            if(mode === 'adhan' && sound) {
                sound.currentTime = 0;
                sound.play().catch(() => {});
            }

            overlay.classList.add('show');
            if(navigator.vibrate) navigator.vibrate([100, 50, 100]);
            setTimeout(() => overlay.classList.remove('show'), 5000);
        }

        // --- GEOLOKACIONI ---
        function getUserLocation() {
            const cityEl = document.getElementById('user-city');
            cityEl.classList.add('opacity-50');
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async pos => {
                    const lat = pos.coords.latitude;
                    const lon = pos.coords.longitude;
                    document.getElementById('user-coords').innerText = `${lat.toFixed(4)}° N, ${lon.toFixed(4)}° E`;
                    try {
                        const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                        const data = await res.json();
                        const city = data.address.city || data.address.town || data.address.village || "Zonë e Panjohur";
                        cityEl.innerText = city;
                        cityEl.classList.remove('opacity-50');
                    } catch (e) { cityEl.innerText = "Lokacioni u Përcaktua"; }
                }, () => {
                    cityEl.innerText = "Qasja u Refuzua";
                });
            }
        }

        function updateRamadanCountdown() {
            const ramadanDate = new Date('February 18, 2026').getTime();
            const now = new Date().getTime();
            const daysLeft = Math.floor((ramadanDate - now) / (1000 * 60 * 60 * 24));
            if (daysLeft > 0) {
                document.getElementById('days-to-ramadan').innerText = daysLeft + " Ditë mbetur";
                document.getElementById('ramadan-progress').style.width = Math.max(5, (1 - (daysLeft / 355)) * 100) + "%";
            }
        }

        function toggleMenu() {
            document.querySelector('.menu-trigger').classList.toggle('open');
            document.getElementById('full-menu').classList.toggle('active');
        }

        async function updateNotifMode(mode) {
            localStorage.setItem('ratkoc_notif_mode', mode);
            if (mode !== 'none') {
                const permission = await Notification.requestPermission();
                if (permission === 'granted' && 'serviceWorker' in navigator) {
                    const reg = await navigator.serviceWorker.ready;
                    reg.showNotification("Zenith OS", {
                        body: "Njoftimet elegante u aktivizuan.",
                        icon: "Images/604776747_122280490772225847_4370550408157022665_n.jpg"
                    });
                }
            }
            refreshNotifUI();
            if(navigator.vibrate) navigator.vibrate(30);
        }

        function refreshNotifUI() {
            const mode = localStorage.getItem('ratkoc_notif_mode') || 'none';
            document.querySelectorAll('.notif-btn').forEach(b => b.classList.remove('notif-active'));
            const btn = document.getElementById('notif-' + mode);
            if(btn) btn.classList.add('notif-active');
        }

        function changeAPIMethod(methodId) {
            localStorage.setItem('zenith_api_method', methodId);
            showZenithNotification('Sistemi');
        }

        function syncAPIDropdown() {
            const savedMethod = localStorage.getItem('zenith_api_method') || '13';
            const dropdown = document.getElementById('apiMethod');
            if(dropdown) dropdown.value = savedMethod;
        }

        window.addEventListener('DOMContentLoaded', () => {
            applyGlobalSettings();
            refreshNotifUI();
            getUserLocation();
            updateRamadanCountdown();
            syncAPIDropdown();
        });

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(err => console.log(err));
        }
    </script>
</body>
</html>
